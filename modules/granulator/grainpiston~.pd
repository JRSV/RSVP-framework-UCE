#N canvas 572 272 718 594 10;
#N canvas 130 236 669 620 envlp~ 0;
#X obj 69 198 bng 40 250 50 0 empty empty empty 0 -6 0 8 -225271 -24198
-1;
#X obj 192 170 -;
#X obj 217 218 *;
#X obj 169 92 *;
#X obj 192 340 -;
#X obj 169 57 t b f;
#X obj 359 130 t b f;
#X obj 359 111 * 0.01;
#X obj 169 38 * 0.01;
#X obj 107 337 +;
#X obj 80 362 delay;
#X obj 69 58 inlet;
#X obj 169 18 inlet;
#X obj 69 435 line~;
#X obj 69 504 outlet~;
#X obj 359 91 inlet;
#X text 6 285 upramp (A);
#X text 150 412 downramp (R);
#X obj 69 257 pack s f;
#X obj 80 389 pack s f;
#X obj 80 310 t b b;
#X text 167 2 shape;
#X text 359 75 skew;
#X text 69 41 dur;
#X text 176 109 dur of S;
#X text 217 172 dur of A+R;
#X text 240 217 dur of A;
#X text 213 339 dur of R;
#X obj 169 125 t f b f;
#X obj 217 238 t f f b f;
#X msg 69 284 0 \, 512 \$2;
#X msg 80 411 512 \, 0 \$2;
#X obj 69 171 del 5;
#X obj 69 143 r \$0-gstart;
#X obj 192 192 t f f;
#X obj 69 477 tabread4~ \$2-halfhanning;
#X floatatom 202 376 5 0 0 0 - - -;
#X connect 0 0 18 0;
#X connect 1 0 34 0;
#X connect 2 0 29 0;
#X connect 3 0 28 0;
#X connect 4 0 19 1;
#X connect 4 0 36 0;
#X connect 5 0 3 0;
#X connect 5 1 3 1;
#X connect 6 0 2 0;
#X connect 6 1 2 1;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 19 0;
#X connect 11 0 3 0;
#X connect 11 0 1 0;
#X connect 12 0 8 0;
#X connect 13 0 35 0;
#X connect 15 0 7 0;
#X connect 18 0 30 0;
#X connect 19 0 31 0;
#X connect 20 0 10 0;
#X connect 20 1 9 0;
#X connect 28 0 9 1;
#X connect 28 1 1 0;
#X connect 28 2 1 1;
#X connect 29 0 18 1;
#X connect 29 1 9 0;
#X connect 29 2 4 0;
#X connect 29 3 4 1;
#X connect 30 0 13 0;
#X connect 30 0 20 0;
#X connect 31 0 13 0;
#X connect 32 0 0 0;
#X connect 33 0 32 0;
#X connect 34 0 4 0;
#X connect 34 1 2 0;
#X connect 35 0 14 0;
#X restore 80 381 pd envlp~;
#X obj 65 406 *~;
#X obj 65 446 *~;
#X obj 65 498 *~;
#X obj 193 474 *~;
#N canvas 869 358 556 482 grainshifter~ 0;
#X obj 327 25 inlet;
#X text 326 9 cur-dur;
#X obj 195 26 inlet;
#X text 193 10 cur-trn;
#X obj 195 91 exp;
#X obj 195 71 * 0.05776;
#X obj 195 417 outlet~;
#X obj 195 350 vline~;
#X obj 438 331 inlet;
#X text 437 315 cur-dlt;
#X obj 195 372 +~;
#X text 76 46 int in halfsteps;
#X text 69 111 proportion in cps;
#X text 364 46 grain dur;
#X obj 195 173 *;
#X obj 282 302 pack f f;
#X obj 195 302 pack f f;
#X text 13 186 headstart (>0 for upward \,;
#X text 63 201 <0 for downward);
#X text 347 312 upward shift;
#X text 90 312 downward shift;
#X obj 195 225 moses 0;
#X obj 195 256 * -1;
#X msg 195 323 0 \, \$1 \$2;
#X msg 282 323 \$1 \, 0 \$2;
#X obj 327 68 t b f;
#X obj 195 138 - 1;
#X text 21 138 subtract current dl speed;
#X obj 327 46 + 5;
#X obj 356 414 s \$0-gstart;
#X obj 195 393 delread4~ \$2-gr-dl;
#X obj 356 389 bang;
#X connect 0 0 28 0;
#X connect 2 0 5 0;
#X connect 4 0 26 0;
#X connect 5 0 4 0;
#X connect 7 0 10 0;
#X connect 8 0 10 1;
#X connect 10 0 30 0;
#X connect 14 0 21 0;
#X connect 15 0 24 0;
#X connect 16 0 23 0;
#X connect 21 0 22 0;
#X connect 21 1 15 0;
#X connect 22 0 16 0;
#X connect 23 0 7 0;
#X connect 23 0 31 0;
#X connect 24 0 7 0;
#X connect 24 0 31 0;
#X connect 25 0 14 0;
#X connect 25 1 14 1;
#X connect 25 1 16 1;
#X connect 25 1 15 1;
#X connect 26 0 14 0;
#X connect 28 0 25 0;
#X connect 30 0 6 0;
#X connect 31 0 29 0;
#X restore 65 322 pd grainshifter~;
#X obj 65 254 r \$0-cur-trn;
#X obj 80 278 r \$0-cur-dur;
#X obj 81 427 r \$0-cur-amp;
#X obj 81 478 r \$0-cur-panr;
#X obj 209 453 r \$0-cur-panl;
#X obj 105 133 s \$0-cur-shp;
#X obj 144 157 s \$0-cur-skw;
#X obj 222 199 s \$0-cur-amp;
#X obj 261 223 s \$0-cur-panr;
#X obj 300 246 s \$0-cur-panl;
#X obj 27 83 s \$0-cur-dur;
#X obj 66 108 s \$0-cur-trn;
#X obj 342 29 r \$0-cur-dur;
#X obj 27 19 inlet;
#X obj 183 180 s \$0-cur-dlt;
#X obj 156 303 r \$0-cur-dlt;
#X obj 104 342 r \$0-cur-shp;
#X obj 131 361 r \$0-cur-skw;
#X obj 65 552 outlet~;
#X obj 193 558 outlet~;
#X obj 466 301 switch~;
#X obj 466 225 t b a;
#X obj 466 248 f \$1;
#X text 349 444 if the instance number is less than the number of voices
\, then I turn that voice on. This saves resorces;
#X obj 519 294 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 466 277 <=;
#N canvas 451 274 512 337 busy 0;
#X obj 33 5 inlet;
#X msg 348 92 0;
#X obj 348 73 del;
#X obj 363 20 inlet;
#X msg 303 94 1;
#X obj 40 235 f;
#X obj 63 217 f;
#X obj 85 199 f;
#X obj 108 181 f;
#X obj 130 163 f;
#X obj 153 145 f;
#X obj 18 253 f;
#X msg 288 177 bang;
#X obj 18 293 outlet;
#X obj 40 273 outlet;
#X obj 85 236 outlet;
#X obj 63 254 outlet;
#X obj 108 218 outlet;
#X obj 130 199 outlet;
#X obj 153 181 outlet;
#X obj 217 49 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 288 134 0;
#X obj 288 154 sel 0;
#X obj 176 123 f;
#X obj 176 163 outlet;
#X text 336 147 ignores incoming signals;
#X text 336 163 if currently producing;
#X text 337 177 a grain.;
#X obj 260 48 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X text 212 29 ask;
#X text 252 30 accept;
#X obj 363 41 + 10;
#X obj 33 31 unpack f f f f f f f f;
#X connect 0 0 20 0;
#X connect 0 0 32 0;
#X connect 1 0 21 1;
#X connect 2 0 1 0;
#X connect 3 0 31 0;
#X connect 4 0 21 1;
#X connect 5 0 14 0;
#X connect 6 0 16 0;
#X connect 7 0 15 0;
#X connect 8 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 19 0;
#X connect 11 0 13 0;
#X connect 12 0 10 0;
#X connect 12 0 9 0;
#X connect 12 0 8 0;
#X connect 12 0 7 0;
#X connect 12 0 6 0;
#X connect 12 0 5 0;
#X connect 12 0 11 0;
#X connect 12 0 23 0;
#X connect 12 0 28 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 12 0;
#X connect 23 0 24 0;
#X connect 28 0 2 0;
#X connect 28 0 4 0;
#X connect 31 0 2 1;
#X connect 32 0 11 1;
#X connect 32 1 5 1;
#X connect 32 2 6 1;
#X connect 32 3 7 1;
#X connect 32 4 8 1;
#X connect 32 5 9 1;
#X connect 32 6 10 1;
#X connect 32 7 23 1;
#X coords 0 0 1 1 20 0 0;
#X restore 27 61 pd busy ......................................;
#X obj 121 530 env~;
#X floatatom 123 557 5 0 0 0 - - -;
#X obj 466 203 r \$3-nvoices;
#X obj 9 477 hip~ 20;
#X obj 9 500 hip~ 20;
#X connect 0 0 1 1;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 36 0;
#X connect 3 0 24 0;
#X connect 3 0 33 0;
#X connect 4 0 25 0;
#X connect 5 0 1 0;
#X connect 6 0 5 0;
#X connect 7 0 0 0;
#X connect 7 0 5 1;
#X connect 8 0 2 1;
#X connect 9 0 3 1;
#X connect 10 0 4 1;
#X connect 18 0 32 1;
#X connect 19 0 32 0;
#X connect 21 0 5 2;
#X connect 22 0 0 1;
#X connect 23 0 0 2;
#X connect 27 0 28 0;
#X connect 27 1 31 1;
#X connect 28 0 31 0;
#X connect 31 0 26 0;
#X connect 31 0 30 0;
#X connect 32 0 16 0;
#X connect 32 1 17 0;
#X connect 32 2 11 0;
#X connect 32 3 12 0;
#X connect 32 4 20 0;
#X connect 32 5 13 0;
#X connect 32 6 14 0;
#X connect 32 7 15 0;
#X connect 33 0 34 0;
#X connect 35 0 27 0;
#X connect 36 0 37 0;
#X connect 37 0 3 0;
