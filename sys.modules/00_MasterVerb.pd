#N canvas 556 348 1312 672 10;
#X declare -path ../imp/;
#X declare -path RSVP;
#X declare -path ../;
#X obj 151 25 cnv 15 250 110 empty \$1-\$2-canvas empty 20 12 0 14
-33289 -33289 0;
#X obj 155 29 cnv 15 240 100 empty empty MASTER/VERB 8 13 0 14 -233017
-1 0;
#X obj 441 162 switch~;
#X obj 43 168 catch~ to_master_verb_L;
#X obj 56 192 catch~ to_master_verb_R;
#X obj 374 385 pack f 20;
#X obj 374 406 line~;
#X obj 88 522 *~;
#X obj 43 524 *~;
#X obj 95 354 env~;
#X floatatom 95 375 5 0 0 1 dB - -;
#N canvas 811 174 521 438 mix-dry-and-wet 0;
#X obj 46 24 inlet~;
#X obj 46 159 *~;
#X obj 87 101 dbtorms;
#X obj 87 143 line~;
#X obj 87 122 pack f 40;
#X obj 46 230 +~;
#X obj 236 24 inlet~;
#X obj 236 159 *~;
#X obj 268 101 dbtorms;
#X obj 268 143 line~;
#X obj 268 122 pack f 40;
#X obj 87 80 r \$0-dry-volume;
#X obj 268 80 r \$0-wet-volume;
#X obj 46 251 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 13 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 10 0;
#X connect 9 0 7 1;
#X connect 10 0 9 0;
#X connect 11 0 2 0;
#X connect 12 0 8 0;
#X restore 43 400 pd mix-dry-and-wet;
#X obj 148 304 r \$0-convolve;
#N canvas 849 248 736 582 init 0;
#X obj 306 437 soundfiler;
#X obj 347 131 f \$0;
#X obj 306 54 loadbang;
#X obj 306 79 t b b b;
#X msg 411 114 \; \$1-25-band-eq const 1 \;;
#X obj 266 54 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 411 95 symbol \$1;
#X obj 48 120 list prepend;
#X obj 48 231 print;
#X obj 48 208 route list;
#X obj 48 57 openpanel;
#X obj 48 31 inlet;
#X obj 363 459 t b;
#X obj 363 480 outlet;
#X obj 48 180 list append;
#X msg 117 98 read -resize;
#X obj 111 140 \$0;
#X msg 111 161 \$1-file;
#X obj 48 78 t a b b;
#X msg 347 151 \; \$1-dry-volume-set 0 \; \$1-wet-volume-set 70 \;
\$1-master-volume-set 0.7 \;;
#X obj 306 333 pr.pnd read;
#X obj 306 312 pr.pnd -resize;
#X obj 333 371 \$0;
#X msg 333 392 \$1-imp-reverb;
#X obj 306 416 a.pnd;
#X obj 306 351 t a b;
#X obj 113 28 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 432 282 declare -path ../imp/;
#X obj 306 240 makefilename impulse-reverb.wav;
#X connect 0 1 12 0;
#X connect 1 0 19 0;
#X connect 2 0 3 0;
#X connect 3 0 28 0;
#X connect 3 1 1 0;
#X connect 3 2 6 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 14 0;
#X connect 9 0 8 0;
#X connect 10 0 18 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 0 9 0;
#X connect 15 0 7 1;
#X connect 16 0 17 0;
#X connect 17 0 14 1;
#X connect 18 0 7 0;
#X connect 18 1 15 0;
#X connect 18 2 16 0;
#X connect 20 0 25 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 24 1;
#X connect 24 0 0 0;
#X connect 25 0 24 0;
#X connect 25 1 22 0;
#X connect 26 0 10 0;
#X connect 28 0 21 0;
#X restore 302 289 pd init;
#N canvas 1135 146 478 333 25-band-EQ 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$1-25-band-eq 25 float 2;
#X coords 0 1.25 25 0 130 58 1 0 0;
#X restore 30 10 graph;
#X text 39 268 Note that scalar values below 0 are clipped to 0 \,
but there is no upper limit for scalars., f 67;
#N canvas 548 198 650 289 mute-or-unity 0;
#X obj 259 40 inlet;
#X obj 49 40 inlet;
#X msg 49 110 \; \$1-25-band-eq const 0 \;;
#X msg 259 200 \; \$1-25-band-eq const 1 \;;
#X obj 331 40 r \$0-convolve;
#X obj 331 61 route analyze;
#X obj 331 82 t b;
#X text 330 126 With each new analysis \, [convolve~]'s internal EQ
is reset to unity. Reset the EQ table here as a reminder of that.,
f 41;
#X obj 49 90 symbol \$1;
#X obj 259 180 symbol \$1;
#X connect 0 0 9 0;
#X connect 1 0 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 8 0 2 0;
#X connect 9 0 3 0;
#X restore 279 159 pd mute-or-unity;
#N canvas 756 370 594 270 send-eq-message-from-array 0;
#X obj 29 159 list prepend eq;
#X obj 29 180 list trim;
#X obj 29 201 s \$0-convolve;
#X obj 29 62 r \$0-send-eq-list;
#X text 218 95 Here \, we dump the scalar values out of the table and
send them to [convolve~] as an "eq" message. Since working in linear
frequency bins isn't very intuitive \, [convolve~] uses the Bark frequency
scale to define 25 frequency bands from DC to Nyquist., f 46;
#X obj 29 108 array get \$1-25-band-eq;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 5 0;
#X connect 5 0 0 0;
#X restore 41 159 pd send-eq-message-from-array;
#X text 39 189 As of version 0.11 \, you can scale the complex frequency-domain
values of the IR analysis via an "eq" message. This allows you to boost
or attenuate energy in any of 25 Bark-based frequency bands. The "eq"
method expects a list of 25 scalar values. Here \, the values are dumped
into a list using [array get]., f 67;
#X obj 279 104 inlet;
#X obj 372 106 inlet;
#X connect 5 0 2 0;
#X connect 6 0 2 1;
#X coords 0 -1 1 1 130 58 2 30 10;
#X restore 165 65 pd 25-band-EQ;
#X obj 335 245 s \$0-dry-volume;
#X obj 352 225 s \$0-wet-volume;
#X obj 408 133 DSP-ON;
#X obj 43 308 *~;
#X obj 43 423 hilbert~;
#X obj 335 36 cnv 5 32 9 empty empty ON/OFF 2 5 0 8 -1 -262144 0;
#X obj 302 35 bng 15 250 50 0 empty empty empty 17 7 0 10 -4160 -257985
-1;
#X obj 268 38 cnv 5 32 9 empty empty LOAD/F 2 5 0 8 -1 -262144 0;
#X obj 312 68 bng 10 250 50 0 empty empty unity -7 -5 0 8 -16662 -4032
-1;
#X obj 312 89 bng 10 250 50 0 empty empty mute -5 -5 0 8 -16662 -4032
-1;
#X obj 312 109 bng 10 250 50 0 \$0-send-eq-list empty apply -7 -5 0
8 -16662 -4032 -1;
#X obj 222 4 r \$0-dry-volume-set;
#X obj 350 4 r \$0-wet-volume-set;
#X obj 499 293 cnv 15 220 220 empty empty empty 20 12 0 14 -233017
-66577 0;
#X text 518 307 Try these different IRs;
#X obj 541 384 s \$0-convolve;
#X obj 524 331 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 541 330 f \$0;
#X obj 428 90 s \$0-convolve;
#X msg 428 68 flush;
#X obj 536 116 s \$0-convolve;
#X msg 536 88 window 1920;
#X obj 424 25 r \$0-master-volume-set;
#X obj 428 48 sel 0 1;
#X obj 541 251 loadbang;
#X obj 562 160 declare -path RSVP;
#X obj 5 67 tabdump \$1-25-band-eq;
#X obj 5 108 send \$1-25-band-eq;
#X obj 561 187 table \$0-imp-reverb;
#X msg 541 350 analyze \$1-imp-reverb;
#X obj 294 409 env~;
#X obj 294 467 > 0;
#X obj 148 338 convolve~ 640 \$0-imp-reverb;
#X obj 352 54 ./customGUI/vsl-main-rv-effect \$1 \$2 WET;
#X obj 335 54 ./customGUI/vsl-main-rv-effect \$1 \$2 DRY;
#X obj 373 54 ./customGUI/vsl-main-rv-effect \$1 \$2 VOL;
#X obj 372 32 ./customGUI/tgl-main-but \$1 \$2 DSP;
#X obj 699 17 r /MASTER/RVRB/eq-msc;
#X obj 699 37 list prepend 0;
#X obj 699 58 send \$1-25-band-eq;
#X obj 700 84 r /MASTER/RVRB/unity-bng;
#X obj 700 107 sel 1;
#X obj 700 158 sel 1;
#X obj 700 135 r /MASTER/RVRB/mute-bn;
#X obj 702 206 sel 1;
#X obj 702 183 r /MASTER/RVRB/apply-bng;
#X obj 891 15 r /MASTER/RVRB/vol-vsl;
#X obj 891 35 * 2;
#X obj 889 88 * 2;
#X obj 889 68 r /MASTER/RVRB/dry-vsl;
#X obj 892 148 * 2;
#X obj 892 128 r /MASTER/RVRB/wet-vsl;
#X obj 894 183 r /MASTER/RVRB/DSP-tgl;
#X obj 840 399 declare -path ../;
#X obj 43 557 throw~ to_DAC_1;
#X obj 88 579 throw~ to_DAC_2;
#N canvas 1221 112 483 492 blinker 0;
#X obj 49 100 sel 0 1;
#X obj 49 80 speedlim 500;
#X obj 113 304 loadbang;
#X msg 49 358 \; \$1-canvas color 12 12 12;
#X msg 262 319 \; \$1-canvas color 16 12 12;
#X text 30 431 blinks the border green when signal enters the instrument
;
#X obj 76 223 r \$1-\$2-blinker-off;
#X obj 76 246 sel 0;
#X text 63 391 black;
#X text 290 354 green;
#X text 64 267 turns off when DSP off;
#X obj 49 27 inlet;
#X obj 49 322 symbol \$1-\$2;
#X obj 262 268 symbol \$1-\$2;
#X obj 160 246 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X connect 0 0 12 0;
#X connect 0 1 13 0;
#X connect 1 0 0 0;
#X connect 2 0 12 0;
#X connect 6 0 7 0;
#X connect 6 0 14 0;
#X connect 7 0 12 0;
#X connect 11 0 1 0;
#X connect 12 0 3 0;
#X connect 13 0 4 0;
#X restore 294 537 pd blinker;
#X obj 360 463 s \$1-\$2-blinker-off;
#X obj 5 87 msc_pre \$1 \$2 EQ;
#X floatatom 300 432 5 0 0 0 - - -;
#X obj 400 175 sel 0;
#X obj 400 198 0;
#X obj 294 490 change;
#X connect 3 0 18 0;
#X connect 4 0 18 0;
#X connect 5 0 6 0;
#X connect 6 0 7 1;
#X connect 6 0 8 1;
#X connect 7 0 70 0;
#X connect 8 0 69 0;
#X connect 9 0 10 0;
#X connect 11 0 19 0;
#X connect 12 0 47 0;
#X connect 13 0 32 0;
#X connect 17 0 18 1;
#X connect 17 1 2 0;
#X connect 17 1 75 0;
#X connect 18 0 11 0;
#X connect 18 0 47 0;
#X connect 18 0 45 0;
#X connect 19 0 8 0;
#X connect 19 1 7 0;
#X connect 21 0 13 0;
#X connect 23 0 14 1;
#X connect 24 0 14 0;
#X connect 25 0 41 0;
#X connect 26 0 49 0;
#X connect 27 0 48 0;
#X connect 31 0 32 0;
#X connect 32 0 44 0;
#X connect 34 0 33 0;
#X connect 36 0 35 0;
#X connect 37 0 50 0;
#X connect 38 0 34 0;
#X connect 38 1 36 0;
#X connect 39 0 32 0;
#X connect 41 0 73 0;
#X connect 44 0 30 0;
#X connect 45 0 74 0;
#X connect 45 0 46 0;
#X connect 46 0 77 0;
#X connect 47 0 9 0;
#X connect 47 0 11 1;
#X connect 48 0 16 0;
#X connect 49 0 15 0;
#X connect 50 0 5 0;
#X connect 51 0 17 0;
#X connect 51 0 38 0;
#X connect 51 0 72 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 55 0 56 0;
#X connect 56 0 23 0;
#X connect 57 0 24 0;
#X connect 58 0 57 0;
#X connect 59 0 25 0;
#X connect 60 0 59 0;
#X connect 61 0 62 0;
#X connect 62 0 50 0;
#X connect 63 0 49 0;
#X connect 64 0 63 0;
#X connect 65 0 48 0;
#X connect 66 0 65 0;
#X connect 67 0 51 0;
#X connect 73 0 42 0;
#X connect 75 0 76 0;
#X connect 77 0 71 0;
#X coords 0 -1 1 1 250 110 2 150 24;
